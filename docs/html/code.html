
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Code Documentation &#8212; osmpoi  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Welcome to osmpoi’s documentation!" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="module-api">
<span id="code-documentation"></span><h1>Code Documentation<a class="headerlink" href="#module-api" title="Permalink to this heading">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="api.api">
<span class="sig-prename descclassname"><span class="pre">api.</span></span><span class="sig-name descname"><span class="pre">api</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#api.api" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the API key for Overpass.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The API URL</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-dicts"></span><dl class="py function">
<dt class="sig sig-object py" id="dicts.process">
<span class="sig-prename descclassname"><span class="pre">dicts.</span></span><span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">area</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dicts.process" title="Permalink to this definition">¶</a></dt>
<dd><p>This will process information from the API request and put it into a dictionary that is more readable and
available to use.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>area</strong> (<em>str</em>) – This is the region</p></li>
<li><p><strong>data</strong> (<em>dict</em>) – The API request result</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A simplified dictionary of the POIS with a timestamp</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-downloader"></span><dl class="py function">
<dt class="sig sig-object py" id="downloader.concat">
<span class="sig-prename descclassname"><span class="pre">downloader.</span></span><span class="sig-name descname"><span class="pre">concat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min_long</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_lat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_long</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_lat</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#downloader.concat" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the concatenation of the coordinates into 1 string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>min_long</strong> (<em>float</em>) – Minimum Longitude</p></li>
<li><p><strong>min_lat</strong> (<em>float</em>) – Minimum Latitude</p></li>
<li><p><strong>max_long</strong> (<em>float</em>) – Maximum Longitude</p></li>
<li><p><strong>max_lat</strong> (<em>float</em>) – Maximum Latitude</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A string of these integers with 6 decimal places</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="downloader.deleter">
<span class="sig-prename descclassname"><span class="pre">downloader.</span></span><span class="sig-name descname"><span class="pre">deleter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">poi</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#downloader.deleter" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes data in the file using the Area code, used for updating information in the file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>poi</strong> (<em>dict</em>) – Dictionary of the POI</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Deletes a record</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="downloader.download">
<span class="sig-prename descclassname"><span class="pre">downloader.</span></span><span class="sig-name descname"><span class="pre">download</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">poi</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#downloader.download" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads then appends to a current list of dictionaries then writes it to a file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>poi</strong> (<em>dict</em>) – This is a dictionary of the POI</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Appends to file</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="downloader.exists">
<span class="sig-prename descclassname"><span class="pre">downloader.</span></span><span class="sig-name descname"><span class="pre">exists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#downloader.exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks the existence of a filename.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – This is the filename</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>It will return a bool of either True or False</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="downloader.file_exist">
<span class="sig-prename descclassname"><span class="pre">downloader.</span></span><span class="sig-name descname"><span class="pre">file_exist</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#downloader.file_exist" title="Permalink to this definition">¶</a></dt>
<dd><p>This is used to check if the file exists using the exists function.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>It will either pass the function or create a file with a list inside</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="downloader.has_expired">
<span class="sig-prename descclassname"><span class="pre">downloader.</span></span><span class="sig-name descname"><span class="pre">has_expired</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#downloader.has_expired" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks the current date of the data then if it is 1 month old then replace the data as it needs to be up-to-date.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>dict</em>) – This is the dictionary of the POI</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True or False if it is more than 1 month old</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="downloader.loader">
<span class="sig-prename descclassname"><span class="pre">downloader.</span></span><span class="sig-name descname"><span class="pre">loader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">poi</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#downloader.loader" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a file then checks if the areas of all downloaded data and finds if it one of the downloaded areas already
exists.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>poi</strong> (<em>dict</em>) – dictionary of a POI</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>One Area if it exists within the file</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-plotter"></span><dl class="py function">
<dt class="sig sig-object py" id="plotter.compare">
<span class="sig-prename descclassname"><span class="pre">plotter.</span></span><span class="sig-name descname"><span class="pre">compare</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">poi1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">poi2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plotter.compare" title="Permalink to this definition">¶</a></dt>
<dd><p>Comparison of two region using a bar graph.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>poi1</strong> (<em>dict</em>) – A dictionary of POIS</p></li>
<li><p><strong>poi2</strong> (<em>dict</em>) – A dictionary of POIS</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A bar graph with two legends and multiple bars for two regions</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plotter.plot">
<span class="sig-prename descclassname"><span class="pre">plotter.</span></span><span class="sig-name descname"><span class="pre">plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">poi</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plotter.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots a bar graph of POIs in a region.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>poi</strong> (<em>dict</em>) – Dictionary of POIs</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A bar graph</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-pois"></span><dl class="py function">
<dt class="sig sig-object py" id="pois.collect">
<span class="sig-prename descclassname"><span class="pre">pois.</span></span><span class="sig-name descname"><span class="pre">collect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">location</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pois.collect" title="Permalink to this definition">¶</a></dt>
<dd><p>This will make an API request for using a query to Overpass API. This query is split into 10 queries within a
request. This is to get categories of the POIs and their totals. This is compiled into a dictionary at the end.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>location</strong> (<em>str</em>) – This is a string of min long, min lat, max long, max lat for API request</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary of the POIs</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-retrieve"></span><dl class="py function">
<dt class="sig sig-object py" id="retrieve.pois_bbox">
<span class="sig-prename descclassname"><span class="pre">retrieve.</span></span><span class="sig-name descname"><span class="pre">pois_bbox</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min_long</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_lat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_long</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_lat</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#retrieve.pois_bbox" title="Permalink to this definition">¶</a></dt>
<dd><p>All the checks are passed through here to collect the final dictionary of the POIs of the region. It checks, file
existence, expiry date and if it is downloaded. It will API call first if it doesn’t exist and then download it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>min_long</strong> (<em>float</em>) – Minimum Longitude</p></li>
<li><p><strong>min_lat</strong> (<em>float</em>) – Minimum Latitude</p></li>
<li><p><strong>max_long</strong> (<em>float</em>) – Maximum Longitude</p></li>
<li><p><strong>max_lat</strong> (<em>float</em>) – Maximum Latitude</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary of the POIs</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="retrieve.pois_percent">
<span class="sig-prename descclassname"><span class="pre">retrieve.</span></span><span class="sig-name descname"><span class="pre">pois_percent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min_long</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_lat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_long</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_lat</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#retrieve.pois_percent" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a dictionary of POIs values into percentage values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>min_long</strong> (<em>float</em>) – Minimum Longitude</p></li>
<li><p><strong>min_lat</strong> (<em>float</em>) – Minimum Latitude</p></li>
<li><p><strong>max_long</strong> (<em>float</em>) – Maximum Longitude</p></li>
<li><p><strong>max_lat</strong> (<em>float</em>) – Maximum Latitude</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary of POIs with the values being percentages</p>
</dd>
</dl>
</dd></dl>

</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">osmpoi</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Code Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#api.api"><code class="docutils literal notranslate"><span class="pre">api()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#dicts.process"><code class="docutils literal notranslate"><span class="pre">process()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#downloader.concat"><code class="docutils literal notranslate"><span class="pre">concat()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#downloader.deleter"><code class="docutils literal notranslate"><span class="pre">deleter()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#downloader.download"><code class="docutils literal notranslate"><span class="pre">download()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#downloader.exists"><code class="docutils literal notranslate"><span class="pre">exists()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#downloader.file_exist"><code class="docutils literal notranslate"><span class="pre">file_exist()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#downloader.has_expired"><code class="docutils literal notranslate"><span class="pre">has_expired()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#downloader.loader"><code class="docutils literal notranslate"><span class="pre">loader()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#plotter.compare"><code class="docutils literal notranslate"><span class="pre">compare()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#plotter.plot"><code class="docutils literal notranslate"><span class="pre">plot()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#pois.collect"><code class="docutils literal notranslate"><span class="pre">collect()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#retrieve.pois_bbox"><code class="docutils literal notranslate"><span class="pre">pois_bbox()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#retrieve.pois_percent"><code class="docutils literal notranslate"><span class="pre">pois_percent()</span></code></a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">Welcome to osmpoi’s documentation!</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, Iestynlee Davies.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 6.1.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="_sources/code.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>